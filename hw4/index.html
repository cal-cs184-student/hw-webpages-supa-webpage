<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 4 Write-Up</h1>
		<div style="text-align: center;">Names: Keagan Chern, Ice Unjitwattana </div>

		<br>

		Link to webpage: <a href="https://cal-cs184-student.github.io/hw-webpages-supa-webpage/hw4/index.html">https://cal-cs184-student.github.io/hw-webpages-supa-webpage/hw4/index.html</a>

		<br>

		Link to GitHub repository: <a href="https://github.com/cal-cs184-student/sp25-hw4-dry-ice5">https://github.com/cal-cs184-student/sp25-hw4-dry-ice</a>

		

		<!--
		We've already added one heading per part, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.

		<h2>Part 1: Masses and springs</h2>
		<ol> 
		<li>
			Take some screenshots of scene/pinned2.json from a viewing angle where you can clearly see the cloth wireframe to show the structure of your point masses and springs. <br><br>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="./images/part_1_pic_1.png" width="500px"/>
				</td>
				<td style="text-align: center;">
				  <img src="./images/part2_pic_2.png" width="500px"/>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="./images/part_3_pic_3.png" width="500px"/>
				</td>
				<td style="text-align: center;">
				  <img src="./images/part_1_pic_4.png" width="500px"/>
				  
				</td>
			  </tr>
			</table>
		</div>
		<br><br>
		</li>
		<li>
			Show us what the wireframe looks like (1) without any shearing constraints, (2) with only shearing constraints, and (3) with all constraints. <br><br>
			<div style="display: flex; flex-direction: column; align-items: center;">
				<table style="width: 100%; text-align: center; border-collapse: collapse;">
				  <tr>
					<td style="text-align: center;">
					  <img src="./images/without_shearing.png" width="500px"/>
					  <figcaption>Without any shearing constraints</figcaption>
					</td>
					<td style="text-align: center;">
					  <img src="./images/only_shearing.png" width="500px"/>
					  <figcaption>With only shearing constraints</figcaption>
					</td>
				  </tr>
				  <tr>
					<td style="text-align: center;">
					  <img src="./images/all_constraints.png" width="500px"/>
					  <figcaption>With all constraints</figcaption>
					</td>
					
				  </tr>
				</table>
			</div>
		</li>
	</ol>
		<h2>Part 2: Simulation via numerical integration</h2>
		<ol>
		<li>
			Experiment with some the parameters in the simulation. To do so, pause the simulation at the start with P, modify the values of interest, and then resume by pressing P again. You can also restart the simulation at any time from the cloth’s starting position by pressing R. <br><br>

			<h3> Default parameters</h3> <br><br>
			<div style="display: flex; flex-direction: column; align-items: center;">
				<table style="width: 100%; text-align: center; border-collapse: collapse;">
				  <tr>
					<td style="text-align: center;">
					  <img src="./images/part2_default1.png" width="500px"/>
					  <figcaption>scene/pinned2.json start of simulation</figcaption>
					</td>
					<td style="text-align: center;">
					  <img src="./images/part2_default2.png" width="500px"/>
					  <figcaption>scene/pinned2.json during of simulation #1</figcaption>
					</td>
				  </tr>
				  <tr>
					<td style="text-align: center;">
					  <img src="./images/part2_default3.png" width="500px"/>
					  <figcaption>scene/pinned2.json during of simulation #2</figcaption>
					</td>
					<td style="text-align: center;">
						<img src="./images/part2_default4.png" width="500px"/>
						<figcaption>scene/pinned2.json rest state</figcaption>
					  </td>
				  </tr>
				</table>
			</div>

			<br><br>

			<ul>

				<li>Describe the effects of changing the spring constant ks; how does the cloth behave from start to rest with a very low ks? A high ks?	<br> <br>
					<h3> Low ks pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowks1.png" width="500px"/>
							  <figcaption>low ks scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_lowks2.png" width="500px"/>
							  <figcaption>low ks scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowks3.png" width="500px"/>
							  <figcaption>low ks scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_lowks4.png" width="500px"/>
								<figcaption>low ks scene/pinned2.json rest state</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>

					<h3> high ks pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highks1.png" width="500px"/>
							  <figcaption>high ks scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_highks2.png" width="500px"/>
							  <figcaption>high ks scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highks3.png" width="500px"/>
							  <figcaption>high ks scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_highks4.png" width="500px"/>
								<figcaption>high ks scene/pinned2.json rest state</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>

					When the ks of the springs is low, the springs have very low resistance to stretching. As such the clotch will become very loose and drapey. If we compare the default parameter where the ks is 
					5000 N/m and the low ks is only 100 N/m, we see that the cloth of the low ks sags way more than the default. Also during the simulation process, the cloth of the low ks develops much more wrinkles.
					As for the high ks of 100000 N/m, the springs become more stiff leading to a very regid cloth. We can see this when comparing it to the low ks and default ks where the rest state has minimal wrinkles and
					sagging. When looking at the simulation process, we see that the cloth seems relatively flat.
					<br><br>
				</li>

				<li>What about for density?
				
					<br> <br>
					<h3> Low density pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowdensity1.png" width="500px"/>
							  <figcaption>low density scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_lowdensity2.png" width="500px"/>
							  <figcaption>low density scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowdensity3.png" width="500px"/>
							  <figcaption>low density scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_lowdensity4.png" width="500px"/>
								<figcaption>low density scene/pinned2.json rest state</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>
					<h3> High density pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highdensity1.png" width="500px"/>
							  <figcaption>high density scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_highdensity2.png" width="500px"/>
							  <figcaption>high density scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highdensity3.png" width="500px"/>
							  <figcaption>high density scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_highdensity4.png" width="500px"/>
								<figcaption>high density scene/pinned2.json rest state</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>
					
					A high or low density will affect the mass of each point mass. A high density means that the point masses will be heavier while a low density will mean that the point masses will be lighter. When comparing both the low density (1 g/cm^2)
					and the default we see that the low density is much less saggy and drapey throughout the entire simulation. This is because the point masses are much lighter leading weaker forces acting on them. When looking at the high density (100 g/cm^2), we see that
					the cloth is much more saggy and drapey. This is because the point masses are much heavier leading to stronger forces acting on them. We can see this when comparing the rest state of the default and high density where the high density has a lot more wrinkles, especially in the top 
					middle of the cloth.

					<br><br>

				</li>


				<li>What about for damping?

				<br> <br>
					<h3> Low damping pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowdamp1.png" width="500px"/>
							  <figcaption>low damping scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_lowdamp2.png" width="500px"/>
							  <figcaption>low damping scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowdamp3.png" width="500px"/>
							  <figcaption>low damping scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_lowdamp4.png" width="500px"/>
								<figcaption>low damping scene/pinned2.json simulation #3</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>

					<h3> High damping pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highdamp1.png" width="500px"/>
							  <figcaption>high damping scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_highdamp2.png" width="500px"/>
							  <figcaption>high damping scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highdamp3.png" width="500px"/>
							  <figcaption>high damping scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_highdamp4.png" width="500px"/>
								<figcaption>high damping scene/pinned2.json rest state</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>

					damping is the amount of energy lost in the system from timestep to timestep. A low damping means that the system will lose very little energy and will take a long time to come to rest. When looking at the low damping(0) simulation above, There are definitely more ripples than that of the default. Also since with 0, there is no energy lost and will take an extremely long time 
					to reach a rest state compared to the default. As for the high damping (0.8), we see that it looks very similar to the default. There is more energy lost in the system leading to less ripples during the simulation and reaching a stable rest state.
					<br><br>
				</li>

				<li>gravity: acceleration due to gravity
					<br> <br>
					<h3> Low gravity pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowgravity1.png" width="500px"/>
							  <figcaption>low gravity scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_lowgravity2.png" width="500px"/>
							  <figcaption>low gravity scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_lowgravity3.png" width="500px"/>
							  <figcaption>low gravity scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_lowgravity4.png" width="500px"/>
								<figcaption>low gravity scene/pinned2.json rest state</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>

					<h3> High gravity pinned2 simulation</h3>
					<div style="display: flex; flex-direction: column; align-items: center;">
						<table style="width: 100%; text-align: center; border-collapse: collapse;">
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highgravity1.png" width="500px"/>
							  <figcaption>high gravity scene/pinned2.json start of simulation</figcaption>
							</td>
							<td style="text-align: center;">
							  <img src="./images/part2_highgravity2.png" width="500px"/>
							  <figcaption>high gravity scene/pinned2.json during of simulation #1</figcaption>
							</td>
						  </tr>
						  <tr>
							<td style="text-align: center;">
							  <img src="./images/part2_highgravity3.png" width="500px"/>
							  <figcaption>high gravity scene/pinned2.json during of simulation #2</figcaption>
							</td>
							<td style="text-align: center;">
								<img src="./images/part2_highgravity4.png" width="500px"/>
								<figcaption>high gravity scene/pinned2.json rest state</figcaption>
							  </td>
						  </tr>
						</table>
					</div> <br><br>

					gravity on the point masses will affect the amount of force acting on each point mass and the cloth overall. For a low gravity of (-1.5 m/s^2), comparing to the default of -9.8 m/s^2, we see that it is less drapey and saggy.
					This is because with less gravity, the amount of force pointing downwards is less. For the high gravity of (-20 m/s^2), we see that the cloth is much more drapey and saggy. This is because with more gravity, the amount of force pointing downwards is more. We can see this when comparing the rest state of the default and high gravity where the high gravity has a lot more wrinkles, especially in the top middle of the cloth.
					<br><br>
				</li>
			<li>
				Show us a screenshot of your shaded cloth from scene/pinned4.json in its final resting state! If you choose to use different parameters than the default ones, please list them.

				<br> <br>

				<figure>
					<img src="./images/Part2_pinned4.png" style="width:100%"/>
				</figure>

			</li>


			</ul>
		</li>
		</ol>
		<h2>Part 3: Handling collisions with other objects</h2>
		<ol>
			<li> 
				Describe your implementation of handling collisions with spheres and planes.
			</li>

			<li> 
				Show us screenshots of your shaded cloth from scene/sphere.json in its final resting state on the sphere using the default ks = 5000 as well as with ks = 500 and ks = 50000. Describe the differences in the results.
				<div style="display: flex; flex-direction: column; align-items: center;">
					<table style="width: 100%; text-align: center; border-collapse: collapse;">
					  <tr>
						<td style="text-align: center;">
						  <img src="./images/Part3_default.png" width="500px"/>
						  <figcaption>scene/sphere.json with ks = 5000</figcaption>
						</td>
						<td style="text-align: center;">
						  <img src="./images/part3_500ks.png" width="500px"/>
						  <figcaption>scene/sphere.json with ks = 500</figcaption>
						</td>
					  </tr>
					  <tr>
						<td style="text-align: center;">
						  <img src="./images/part3_50000ks.png" width="500px"/>
						  <figcaption>scene/sphere.json with ks = 50000</figcaption>
						</td>
						
					  </tr>
					</table>
				</div> <br><br>

				Comparing the different ks above, we see that the default provide the most realistic simulation of a cloth on the sphere. There is a good amount of wrinkles and sagging as well as tension within the cloth. As
				for the ks = 500, we see that it is very loose and drapey. This is because a lower ks leads to this as the springs are not as stiff and has less tension. Finally, for the ks = 50000, we see that the cloth is more rigid and has less wrinkles. This is because 
				the spring has much higher tension that prevents it from draping.
				<br><br>
			</li>

			<li>
				Show us a screenshot of your shaded cloth lying peacefully at rest on the plane. If you haven’t by now, feel free to express your colorful creativity with the cloth! (You will need to complete the shaders portion first to show custom colors.)
				<figure>
					<img src="./images/part3_plane.png" style="width:100%"/>
				</figure>
			</li>
		</ol>
		<h2>Part 4: Handling self-collisions</h2>

		<ol>
			<li> 
				Describe your implementation of handling self-collisions.
			</li>

			<li> 
				Show us at least 3 screenshots that document how your cloth falls and folds on itself, starting with an early, initial self-collision and ending with the cloth at a more restful state (even if it is still slightly bouncy on the ground).
			</li>

			<div style="display: flex; flex-direction: column; align-items: center;">
				<table style="width: 100%; text-align: center; border-collapse: collapse;">
				  <tr>
					<td style="text-align: center;">
					  <img src="./images/part4_early.png" width="500px"/>
					  <figcaption>self collision at early stage</figcaption>
					</td>
					<td style="text-align: center;">
					  <img src="./images/part4_middle.png" width="500px"/>
					  <figcaption>self collision at intermediate stage #1</figcaption>
					</td>
				  </tr>
				  <tr>
					<td style="text-align: center;">
					  <img src="./images/part4_inter2.png" width="500px"/>
					  <figcaption>self collision at intermediate state #2</figcaption>
					</td>

					<td style="text-align: center;">
						<img src="./images/part4_end.png" width="500px"/>
						<figcaption>self collision at restful state</figcaption>
					  </td>
					
				  </tr>
				</table>
			</div> <br><br>

			<li> 
				Vary the density as well as ks and describe with words and screenshots how they affect the behavior of the cloth as it falls on itself.
			</li>
		</ol>
		<h2>Part 5: Shaders</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Part 6: Extra Credit - Additional cloth simulation features!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		
		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>